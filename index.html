<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CardÃ¡pio dos Sonhos</title>
<style>
  body { font-family: "Segoe UI", Arial, sans-serif; margin:0; padding:20px; background:#fff8e1; }
  h1 { text-align:center; color:#d84315; }
  .food-btn { display:block; padding:10px; margin:5px 0; border:none; border-radius:10px; cursor:pointer; font-size:16px; text-align:left; background:#ffe082; transition:0.3s; }
  .food-btn:hover { background:#ffc107; }
  .selected { background:#ff6f00; color:#fff; }
  #navigation { text-align:center; margin-top:20px; }
  #navigation button { margin:0 10px; padding:10px 20px; border:none; border-radius:8px; font-size:16px; cursor:pointer; background:#d84315; color:#fff; transition:0.3s; }
  #navigation button:hover { background:#bf360c; }
  #summary, #feedback { margin-top:15px; padding:10px; background:#fff3e0; border-radius:8px; }
  #final-results { display:none; background:#ffcc80; padding:20px; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,0.1); }
  .icon { margin-right:8px; }
  @media(max-width:600px){ .food-btn { font-size:14px; } #navigation button{ padding:8px 16px; font-size:14px; } }
</style>
</head>
<body>

<h1>ğŸ½ï¸ CardÃ¡pio dos Sonhos</h1>
<div id="meal-label"></div>
<div id="foods-container"></div>
<div id="navigation">
  <button id="prev-btn">â¬…ï¸ Voltar</button>
  <button id="next-btn">PrÃ³xima â¡ï¸</button>
</div>
<div id="summary"></div>
<div id="feedback"></div>
<div id="final-results"></div>

<script>
const foodsByMeal = {
  breakfast: [
    { name: 'ğŸ¥– PÃ£o francÃªs (50g)', kcal:135, type:'natural' },
    { name: 'ğŸ§ˆ Manteiga (10g)', kcal:73, type:'industrial' },
    { name: 'ğŸ§€ Queijo coalho (40g)', kcal:120, type:'natural' },
    { name: 'ğŸ¥› Achocolatado (200ml)', kcal:140, type:'industrial' },
    { name: 'â˜• CafÃ© preto (200ml)', kcal:3, type:'natural' },
    { name: 'ğŸŒ½ Cuscuz de milho (100g)', kcal:180, type:'natural' },
    { name: 'ğŸ¥¥ Tapioca com coco (100g)', kcal:230, type:'natural' },
    { name: 'ğŸŠ Suco natural (200ml)', kcal:85, type:'natural' },
    { name: 'ğŸŸ£ JuÃ§ara com farinha (150g)', kcal:250, type:'regional' }
  ],
  morningSnack: [
    { name:'ğŸŒ Banana (100g)', kcal:90, type:'natural' },
    { name:'ğŸ¥› Iogurte natural (150g)', kcal:95, type:'natural' },
    { name:'ğŸª Biscoito de polvilho (50g)', kcal:200, type:'industrial' },
    { name:'ğŸ« Biscoito recheado (40g)', kcal:200, type:'industrial' },
    { name:'ğŸ¥¤ Refrigerante (350ml)', kcal:140, type:'industrial' },
    { name:'ğŸ§ Doce (brigadeiro, bolo)', kcal:220, type:'industrial' }
  ],
  lunch: [
    { name:'ğŸš Arroz branco (150g)', kcal:205, type:'natural' },
    { name:'ğŸ«˜ FeijÃ£o preto (100g)', kcal:130, type:'natural' },
    { name:'ğŸ¥© Bife de carne bovina (120g)', kcal:250, type:'natural' },
    { name:'ğŸ— Frango assado (150g)', kcal:280, type:'natural' },
    { name:'ğŸŸ Peixe frito (150g)', kcal:230, type:'regional' },
    { name:'ğŸ¤ CamarÃ£o ao alho e Ã³leo (100g)', kcal:150, type:'regional' },
    { name:'ğŸ¥— Salada alface e tomate (100g)', kcal:25, type:'natural' },
    { name:'ğŸ¥© Carne de sol (120g)', kcal:240, type:'regional' }
  ],
  afternoonSnack: [
    { name:'ğŸ MaÃ§Ã£ (100g)', kcal:52, type:'natural' },
    { name:'ğŸ¥ª SanduÃ­che de presunto e queijo (150g)', kcal:300, type:'industrial' },
    { name:'ğŸ¥¤ Suco natural de acerola (200ml)', kcal:80, type:'natural' },
    { name:'ğŸ” HambÃºrguer (150g)', kcal:450, type:'industrial' },
    { name:'ğŸŸ Batata frita (100g)', kcal:320, type:'industrial' },
    { name:'ğŸ• Pizza (120g)', kcal:285, type:'industrial' },
    { name:'ğŸŸ£ AÃ§aÃ­ com granola (200g)', kcal:350, type:'industrial' },
    { name:'ğŸ¥¤ Refrigerante (350ml)', kcal:140, type:'industrial' },
    { name:'ğŸ§ Doce (60g)', kcal:220, type:'industrial' }
  ],
  dinner: [
    { name:'ğŸš Arroz (100g)', kcal:130, type:'natural' },
    { name:'ğŸ«˜ FeijÃ£o (100g)', kcal:80, type:'natural' },
    { name:'ğŸ— Frango assado (120g)', kcal:220, type:'natural' },
    { name:'ğŸŸ Peixe grelhado (150g)', kcal:200, type:'regional' },
    { name:'ğŸ¥— Salada de rÃºcula e cenoura (100g)', kcal:30, type:'natural' },
    { name:'ğŸ” HambÃºrguer (150g)', kcal:450, type:'industrial' },
    { name:'ğŸŒ­ Cachorro-quente (180g)', kcal:400, type:'industrial' },
    { name:'ğŸ• Pizza (120g)', kcal:285, type:'industrial' },
    { name:'ğŸŸ Batata frita (100g)', kcal:320, type:'industrial' },
    { name:'ğŸ¥¤ Refrigerante (350ml)', kcal:140, type:'industrial' }
  ]
};

const meals = [
  { key:'breakfast', label:'CafÃ© da manhÃ£', icon:'â˜•' },
  { key:'morningSnack', label:'Lanche da manhÃ£', icon:'ğŸ' },
  { key:'lunch', label:'AlmoÃ§o', icon:'ğŸ›' },
  { key:'afternoonSnack', label:'Lanche da tarde', icon:'ğŸ§' },
  { key:'dinner', label:'Jantar', icon:'ğŸ½ï¸' }
];

let current = 0;
let chosen = {};

const mealLabel = document.getElementById('meal-label');
const foodsContainer = document.getElementById('foods-container');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const summaryDiv = document.getElementById('summary');
const feedbackDiv = document.getElementById('feedback');
const finalResults = document.getElementById('final-results');

function renderMeal() {
  const mealKey = meals[current].key;
  mealLabel.innerHTML = `<span class="icon">${meals[current].icon}</span> ${meals[current].label}`;
  foodsContainer.innerHTML = '';
  foodsByMeal[mealKey].forEach(f=>{
    const btn=document.createElement('button');
    btn.className='food-btn';
    btn.textContent=`${f.name} â€” ${f.kcal} kcal â€” ${f.type}`;
    if((chosen[mealKey]||[]).includes(f.name)) btn.classList.add('selected');
    btn.onclick=()=>{ toggleFood(f.name); renderMeal(); };
    foodsContainer.appendChild(btn);
  });
  updateSummary();
}

function toggleFood(foodName){
  const mealKey = meals[current].key;
  chosen[mealKey] = chosen[mealKey] || [];
  const idx = chosen[mealKey].indexOf(foodName);
  if(idx>=0) chosen[mealKey].splice(idx,1);
  else chosen[mealKey].push(foodName);
}

function updateSummary(){
  let totalKcal=0, countNatural=0, countIndustrial=0, countRegional=0;
  Object.keys(chosen).forEach(mk=>{
    (chosen[mk]||[]).forEach(name=>{
      const f = Object.values(foodsByMeal).flat().find(food=>food.name===name);
      if(!f) return;
      totalKcal+=f.kcal;
      if(f.type==='natural') countNatural++;
      else if(f.type==='industrial') countIndustrial++;
      else if(f.type==='regional') countRegional++;
    });
  });
  summaryDiv.textContent=`Selecionados atÃ© agora: Naturais: ${countNatural} â€¢ Industriais: ${countIndustrial} â€¢ Regionais: ${countRegional} â€¢ Total kcal: ${totalKcal}`;
  const totalItems = countNatural+countIndustrial+countRegional||1;
  const procRatio = countIndustrial/totalItems;
  if(procRatio>=0.6) feedbackDiv.textContent='âš ï¸ Alto consumo de ultraprocessados!';
  else if(totalKcal>3200) feedbackDiv.textContent='âš ï¸ Alto consumo calÃ³rico!';
  else if(countNatural>=countIndustrial) feedbackDiv.textContent='âœ… Boa variedade: muitos alimentos naturais.';
  else feedbackDiv.textContent='ğŸ˜ CardÃ¡pio com equilÃ­brio moderado.';
}

prevBtn.onclick = ()=>{ if(current>0){ current--; renderMeal(); } };
nextBtn.onclick = ()=>{ if(current<meals.length-1){ current++; renderMeal(); } else showFinal(); };

function showFinal(){
  foodsContainer.style.display='none';
  mealLabel.style.display='none';
  prevBtn.style.display='none';
  nextBtn.style.display='none';
  summaryDiv.style.display='none';
  feedbackDiv.style.display='none';
  finalResults.style.display='block';
  let html='<h2>Resultado final</h2>';
  Object.keys(chosen).forEach(mk=>{
    html+=`<p><strong>${meals.find(m=>m.key===mk).label}:</strong> ${(chosen[mk]||[]).join(', ') || 'â€”'}</p>`;
  });
  finalResults.innerHTML=html;
}

renderMeal();
</script>

</body>
</html>
